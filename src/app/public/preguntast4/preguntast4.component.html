
<div class="content" role="main">

    <div class="container mt-5">
        <mat-card class="p-1">
            <div class="d-flex justify-content-between p-2">
                <div class="quiz-header">
                    <h2 class="">Examen del manual de electricistas de Cuarta categoria</h2>
                    <h2 style="color: #159a9c;"> {{name}}</h2>
                </div>
            </div>
    
            <ng-container *ngIf="!isQuizCompleted">
                <div class="d-flex justify-content-around py-3">
                    <!-- <div class="score">
                        <h5>{{points}} Points</h5>
                    </div> -->
                    <div class="question-remain">
                        <h4 >Preguntas {{currentQuestion+1}} de {{questionList.length}}</h4>
                    </div>
                    <div class="timer">
                        <h4>{{counter}} segundos ‚è±</h4>
                    </div>
                </div>
                <div class="progress mb-3">
                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [ngStyle]="{'width':progress+'%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <div class="question">
                    <div class="card fw-bold">
                        <h3 class="fw-bold">{{questionList[currentQuestion]?.questionText}}</h3>
                    </div>
                </div>
                <div class="options">
                    <ol *ngFor="let option of questionList[currentQuestion]?.options">
                        <li (click)="answer(currentQuestion+1,option)">
                            <div appChangeBg [isCorrect]="option.correct"  class="card">
                                {{option.text}}
                            </div>
                        </li>
    
                    </ol>
                </div>
                <div class="d-flex justify-content-between">
                    <button class="btn p-2 fs-5 text-primary" (click)="salir()"><i class="fa  fa-chevron-left p-1" aria-hidden="true"></i>Salir del examen</button>
                    <!-- <button class="btn" (click)="resetQuiz()"><i class="fa fa-refresh text-primary fa-3x" aria-hidden="true"></i></button>
                    <button class="btn" (click)="nextQuestion()"><i class="fa text-primary fa-chevron-right fa-3x" aria-hidden="true"></i></button> -->
                </div>
            </ng-container>
    
            <ng-container *ngIf="isQuizCompleted">
                <div class="row d-flex justify-content-between">
                    <img  class=" col-6 col-md-4 col-sm-6 mx-auto" src="assets\images\eleclogo.png" alt="">
                    <div class="result text-center col-md-8 col-sm-12">
                        <h2>Felicidades!! <br>Has completado el examen. <br>Estos son tus resultados:</h2>
                        <p style="font-size: large;">Total preguntas respondidas : {{questionList.length}} </p>
                        <p style="font-size: large;">Total respuestas correctas : {{correctAnswer}} </p>
                        <p style="font-size: large;">Total respuestas incorrectas : {{inCorrectAnswer}} </p>
                        <h1>Nota final : {{points}}  </h1>
                    </div>
                </div>
                <div class="col-12 p-4 text-center">
                    <button mat-raised-button routerLink="" class="col-6">Regresar</button>
                </div>
                
            </ng-container>
    
        </mat-card>
    </div>

</div>